<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>src/client/x/xedit.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>src/client/x/xedit.c</h1><a href="xedit_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001    <span class="comment">/*******************************************************/</span>
<a name="l00002"></a>00002    <span class="comment">/*      "C" Language Integrated Production System      */</span>
<a name="l00003"></a>00003    <span class="comment">/*                                                     */</span>
<a name="l00004"></a>00004    <span class="comment">/*           X Windows Version 2.01  06/15/03          */</span> 
<a name="l00005"></a>00005    <span class="comment">/*                                                     */</span>
<a name="l00006"></a>00006    <span class="comment">/*                    XEDIT MODULE                     */</span>
<a name="l00007"></a>00007    <span class="comment">/*******************************************************/</span>
<a name="l00008"></a>00008    
<a name="l00009"></a>00009 <span class="comment">/*************************************************************/</span>
<a name="l00010"></a>00010 <span class="comment">/* Purpose:                                                  */</span>
<a name="l00011"></a>00011 <span class="comment">/*                                                           */</span>
<a name="l00012"></a>00012 <span class="comment">/* Principal Programmer(s):                                  */</span>
<a name="l00013"></a>00013 <span class="comment">/*      Bebe Ly                                              */</span>
<a name="l00014"></a>00014 <span class="comment">/*      Daniel J. McCoy                                      */</span>
<a name="l00015"></a>00015 <span class="comment">/*                                                           */</span>
<a name="l00016"></a>00016 <span class="comment">/* Contributing Programmer(s):                               */</span>
<a name="l00017"></a>00017 <span class="comment">/*      Gary D. Riley                                        */</span>
<a name="l00018"></a>00018 <span class="comment">/*                                                           */</span>
<a name="l00019"></a>00019 <span class="comment">/* Revision History:                                         */</span>
<a name="l00020"></a>00020 <span class="comment">/*                                                           */</span>
<a name="l00021"></a>00021 <span class="comment">/*************************************************************/</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="setup_8h.html">setup.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="clips_8h.html">clips.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="commline_8h.html">commline.h</a>"</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include "<a class="code" href="xsetup_8h.html">xsetup.h</a>"</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="xclips_8h.html">xclips.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="xedit_8h.html">xedit.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="xmain_8h.html">xmain.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include "<a class="code" href="xmenu_8h.html">xmenu.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include "<a class="code" href="xmenu__file_8h.html">xmenu_file.h</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include "<a class="code" href="xclipstext_8h.html">xclipstext.h</a>"</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorFontSelect(Widget,XtPointer,XtPointer);
<a name="l00041"></a>00041 <span class="keyword">static</span> <span class="keywordtype">void</span> ExitEditor(Widget,XtPointer,XtPointer);
<a name="l00042"></a>00042 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorSaveFirst(Widget,XtPointer,XtPointer); 
<a name="l00043"></a>00043 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorSave(Widget,XtPointer,XtPointer);
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">/********** Global variable in this file ********/</span>
<a name="l00046"></a><a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">00046</a> XawTextPosition <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>;
<a name="l00047"></a><a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">00047</a> Widget <a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a>;
<a name="l00048"></a><a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">00048</a> <span class="keywordtype">char</span> *<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> = NULL;
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="xedit_8c.html#a488d1e2cf39fb6a5a54ec1af4ebca3f">00050</a> <span class="keywordtype">char</span> *<a class="code" href="xedit_8c.html#a488d1e2cf39fb6a5a54ec1af4ebca3f">xclips_translation3</a> =
<a name="l00051"></a>00051 <span class="stringliteral">"\</span>
<a name="l00052"></a>00052 <span class="stringliteral">Ctrl&lt;Key&gt;B:     balance() \n\</span>
<a name="l00053"></a>00053 <span class="stringliteral">Ctrl&lt;Key&gt;C:     complete-construct-editor()\n\</span>
<a name="l00054"></a>00054 <span class="stringliteral">"</span>;
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="xedit_8c.html#ea0a9065d7b0557befb8e849657845d9">00056</a> String <a class="code" href="xedit_8c.html#ea0a9065d7b0557befb8e849657845d9">bindings</a>[] =
<a name="l00057"></a>00057   {
<a name="l00058"></a>00058   <span class="stringliteral">"Ctrl-a   Begining Of Line"</span>,
<a name="l00059"></a>00059   <span class="stringliteral">"Ctrl-b   Search for matching parenthesis"</span>,
<a name="l00060"></a>00060   <span class="stringliteral">"Crtl-d   Delete Next Character"</span>,
<a name="l00061"></a>00061   <span class="stringliteral">"Crtl-e   End Of Line"</span>,
<a name="l00062"></a>00062   <span class="stringliteral">"Crtl-f   Forward Character"</span>,
<a name="l00063"></a>00063   <span class="stringliteral">"Crtl-g   Multiply Reset"</span>,
<a name="l00064"></a>00064   <span class="stringliteral">"Crtl-h   Delete Previous Character"</span>,
<a name="l00065"></a>00065   <span class="stringliteral">"Crtl-j   Newline And Indent"</span>,
<a name="l00066"></a>00066   <span class="stringliteral">"Crtl-k   Kill To End Of Line"</span>,
<a name="l00067"></a>00067   <span class="stringliteral">"Crtl-l   Redraw Display"</span>,
<a name="l00068"></a>00068   <span class="stringliteral">"Crtl-m   Newline"</span>,
<a name="l00069"></a>00069   <span class="stringliteral">"Crtl-n   Next Line"</span>,
<a name="l00070"></a>00070   <span class="stringliteral">"Crtl-o   Newline And Backup"</span>,
<a name="l00071"></a>00071   <span class="stringliteral">"Crtl-p   Previous Line"</span>,
<a name="l00072"></a>00072   <span class="stringliteral">"Crtl-r   Search/Replace Backward"</span>,
<a name="l00073"></a>00073   <span class="stringliteral">"Crtl-s   Search/Replace Forward"</span>,
<a name="l00074"></a>00074   <span class="stringliteral">"Crtl-t   Transpose Characters"</span>,
<a name="l00075"></a>00075   <span class="stringliteral">"Crtl-u   Multiply by 4"</span>,
<a name="l00076"></a>00076   <span class="stringliteral">"Crtl-v   Next Page"</span>,
<a name="l00077"></a>00077   <span class="stringliteral">"Crtl-w   Kill Selection"</span>,
<a name="l00078"></a>00078   <span class="stringliteral">"Crtl-y   Unkill"</span>,
<a name="l00079"></a>00079   <span class="stringliteral">"Crtl-z   Scroll One Line Up"</span>,
<a name="l00080"></a>00080   <span class="stringliteral">"Meta-b   Backward Word"</span>,
<a name="l00081"></a>00081   <span class="stringliteral">"Meta-D   Kill Word"</span>,
<a name="l00082"></a>00082   <span class="stringliteral">"Meta-d   Delete Next Word"</span>,
<a name="l00083"></a>00083   <span class="stringliteral">"Meta-f   Forward Word"</span>,
<a name="l00084"></a>00084   <span class="stringliteral">"Meta-H   Backward Kill Word"</span>,
<a name="l00085"></a>00085   <span class="stringliteral">"Meta-h   Delete Previous Word"</span>,
<a name="l00086"></a>00086   <span class="stringliteral">"Meta-i   Insert File"</span>,
<a name="l00087"></a>00087   <span class="stringliteral">"Meta-k   Kill To End Of Paragraph"</span>,
<a name="l00088"></a>00088   <span class="stringliteral">"Meta-q   Form Paragraph"</span>,
<a name="l00089"></a>00089   <span class="stringliteral">"Meta-v   Previous Page"</span>,
<a name="l00090"></a>00090   <span class="stringliteral">"Meta-y   Insert Current Selection"</span>,
<a name="l00091"></a>00091   <span class="stringliteral">"Meta-z   Scroll One Line Down"</span>,
<a name="l00092"></a>00092   <span class="stringliteral">"Meta-&lt;   Begining Of File"</span>,
<a name="l00093"></a>00093   <span class="stringliteral">"Meta-&gt;   End Of File"</span>,
<a name="l00094"></a>00094   <span class="stringliteral">"Meta-]   Forward Paragraph"</span>,
<a name="l00095"></a>00095   <span class="stringliteral">"Meta-[   Backward Paragraph"</span>,
<a name="l00096"></a>00096   <span class="stringliteral">"Meta-Delete    Delete Previous Word"</span>,
<a name="l00097"></a>00097   <span class="stringliteral">"Meta-Shift Delete    Kill Previous Word"</span>,
<a name="l00098"></a>00098   <span class="stringliteral">"Meta-Backspace Delete Previous Word"</span>,
<a name="l00099"></a>00099   <span class="stringliteral">"Meta-Shift Backspace Kill Previous Word"</span>,
<a name="l00100"></a>00100   NULL,
<a name="l00101"></a>00101   }; 
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/*******************************************************************************</span>
<a name="l00104"></a>00104 <span class="comment">          Name:        EditNewFile</span>
<a name="l00105"></a>00105 <span class="comment">          Description: Creates new edit window and places file in it</span>
<a name="l00106"></a>00106 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l00107"></a>00107 <span class="comment">                       client_data - file to open</span>
<a name="l00108"></a>00108 <span class="comment">                       call_data - Not Used</span>
<a name="l00109"></a>00109 <span class="comment">          Returns:     NONE</span>
<a name="l00110"></a>00110 <span class="comment">*******************************************************************************/</span>
<a name="l00111"></a><a class="code" href="xedit_8h.html#efe9d75fddfafbbb064fda92b6727658">00111</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#6df8e5d5d9ba78a56be67df62f42bc6d">EditNewFile</a>(
<a name="l00112"></a>00112   Widget w,
<a name="l00113"></a>00113   XtPointer client_data,
<a name="l00114"></a>00114   XtPointer call_data)
<a name="l00115"></a>00115   {
<a name="l00116"></a>00116    <span class="keywordtype">void</span> *theEnv = <a class="code" href="envrnmnt_8c.html#380e0dbb0c839c3caeabedcd2ab542d3">GetCurrentEnvironment</a>();
<a name="l00117"></a>00117   String <a class="code" href="ed_8h.html#84e9301b439b6b9d4f2186e88a0c0ba9">filename</a> = XawDialogGetValueString(XtParent(w));
<a name="l00118"></a>00118   <span class="keywordtype">char</span> fullpath[255];
<a name="l00119"></a>00119   Widget edit = NULL, edit_form = NULL, outer_form = NULL, asciiForm = NULL,
<a name="l00120"></a>00120          edit_text= NULL, <a class="code" href="xmenu_8c.html#06f613128d6bc75bf861427f98ad0517">button</a>= NULL, menu= NULL, item;
<a name="l00121"></a>00121   Dimension width, height;
<a name="l00122"></a>00122   FILE *fp = NULL;
<a name="l00123"></a>00123   <span class="keywordtype">char</span> buf[512];
<a name="l00124"></a>00124 
<a name="l00125"></a>00125   strcpy(fullpath, <a class="code" href="xmenu__file_8c.html#95968d1e03f9dc2265496d2de434704c">path</a>);
<a name="l00126"></a>00126   strcat(fullpath, filename);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="comment">/* ========================================== */</span>
<a name="l00129"></a>00129   <span class="comment">/*  Verify if the file is editable            */</span>
<a name="l00130"></a>00130   <span class="comment">/* ========================================== */</span>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <span class="keywordflow">if</span>((fp = fopen(fullpath, <span class="stringliteral">"r+"</span>)) == NULL)
<a name="l00133"></a>00133     {
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <span class="keywordflow">switch</span> (errno) 
<a name="l00136"></a>00136       {
<a name="l00137"></a>00137       <span class="keywordflow">case</span> ENOENT:
<a name="l00138"></a>00138 
<a name="l00139"></a>00139         <span class="keywordflow">if</span>((fp =  fopen(fullpath, <span class="stringliteral">"w"</span>)) == NULL)
<a name="l00140"></a>00140           {
<a name="l00141"></a>00141           sprintf(buf,<span class="stringliteral">"Can't open file %s for edit\n"</span>, fullpath);
<a name="l00142"></a>00142           <a class="code" href="router_8c.html#b440fbdc73d01def2c24bc96adbf4aeb">EnvPrintRouter</a>(theEnv,<span class="stringliteral">"wclips"</span>, buf);
<a name="l00143"></a>00143           <a class="code" href="xmain_8c.html#94182c7081d05bc1cc01b6c5af1aaee1">quit_get_event</a> = <a class="code" href="xclips_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00144"></a>00144           <a class="code" href="commline_8c.html#bb89e0bd3e635034e8ab7b67e0b36445">PrintPrompt</a>(theEnv);
<a name="l00145"></a>00145           <span class="keywordflow">return</span>;
<a name="l00146"></a>00146           }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148       <span class="keywordflow">break</span>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150      <span class="keywordflow">default</span>:
<a name="l00151"></a>00151         sprintf(buf, <span class="stringliteral">"Permission denied, can't open file %s \n"</span>, fullpath);
<a name="l00152"></a>00152         <a class="code" href="router_8c.html#b440fbdc73d01def2c24bc96adbf4aeb">EnvPrintRouter</a>(theEnv,<span class="stringliteral">"wclips"</span>, buf);
<a name="l00153"></a>00153         <a class="code" href="xmain_8c.html#94182c7081d05bc1cc01b6c5af1aaee1">quit_get_event</a> = <a class="code" href="xclips_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00154"></a>00154         <a class="code" href="commline_8c.html#bb89e0bd3e635034e8ab7b67e0b36445">PrintPrompt</a>(theEnv);
<a name="l00155"></a>00155         <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>(outer_form, (XtPointer)XtParent(w), (XtPointer)NULL);
<a name="l00156"></a>00156         <span class="keywordflow">return</span>;
<a name="l00157"></a>00157       }
<a name="l00158"></a>00158     }
<a name="l00159"></a>00159   <span class="comment">/* ================================= */</span>
<a name="l00160"></a>00160   <span class="comment">/*  Close the file so it could be    */</span>
<a name="l00161"></a>00161   <span class="comment">/*  opened by the asciiTextWidget.   */</span>
<a name="l00162"></a>00162   <span class="comment">/* ================================= */</span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164   fclose(fp);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166   <span class="comment">/* ============================================= */</span>
<a name="l00167"></a>00167   <span class="comment">/*  Create the editor window by using the athena */</span>
<a name="l00168"></a>00168   <span class="comment">/*  widgets; include :                           */</span>
<a name="l00169"></a>00169   <span class="comment">/*  topLevelShellWidgetClass                     */</span>
<a name="l00170"></a>00170   <span class="comment">/*   panedWidgetClass                            */</span>
<a name="l00171"></a>00171   <span class="comment">/*     formWidgetClass                           */</span>
<a name="l00172"></a>00172   <span class="comment">/*      asciiTextWidgetClass                     */</span>
<a name="l00173"></a>00173   <span class="comment">/*      menuButtonWidgetClass                    */</span>
<a name="l00174"></a>00174   <span class="comment">/*        simpleMenuWidgetClass                  */</span>
<a name="l00175"></a>00175   <span class="comment">/*          smeBSBObjectClass                    */</span>
<a name="l00176"></a>00176   <span class="comment">/*          smeLineObjectClass                   */</span>
<a name="l00177"></a>00177   <span class="comment">/* ============================================= */</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNwidth, &amp;width);
<a name="l00180"></a>00180   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNheight, &amp;height);
<a name="l00181"></a>00181   XtGetValues(<a class="code" href="xmain_8c.html#6bebdb2b51d8c70e02637f14555854df">dialog</a>, <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 2);
<a name="l00182"></a>00182   edit  = XtCreatePopupShell(filename,
<a name="l00183"></a>00183                              topLevelShellWidgetClass,
<a name="l00184"></a>00184                              <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00185"></a>00185                              NULL, 0);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNheight, height);
<a name="l00188"></a>00188   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNwidth, width);
<a name="l00189"></a>00189   outer_form = XtCreateManagedWidget(<span class="stringliteral">"outer_form"</span>,
<a name="l00190"></a>00190                                      panedWidgetClass,
<a name="l00191"></a>00191                                      edit,
<a name="l00192"></a>00192                                      <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 2);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   edit_form = XtCreateManagedWidget(<span class="stringliteral">"buttonForm"</span>,
<a name="l00195"></a>00195                                     formWidgetClass,
<a name="l00196"></a>00196                                     outer_form,
<a name="l00197"></a>00197                                     NULL, 0);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199   asciiForm = XtCreateManagedWidget(<span class="stringliteral">"asciiform"</span>,
<a name="l00200"></a>00200                                     formWidgetClass,
<a name="l00201"></a>00201                                     outer_form,
<a name="l00202"></a>00202                                     NULL, 0);
<a name="l00203"></a>00203 
<a name="l00204"></a>00204   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNheight, height-35);
<a name="l00205"></a>00205   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNwidth, width);
<a name="l00206"></a>00206   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[2], XtNresize, <span class="stringliteral">"false"</span>);
<a name="l00207"></a>00207   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[3], XtNtype, XawAsciiFile);
<a name="l00208"></a>00208   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[4], XtNeditType, XawtextEdit);
<a name="l00209"></a>00209   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[5], XtNscrollVertical, XawtextScrollWhenNeeded);
<a name="l00210"></a>00210   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[6], XtNscrollHorizontal, XawtextScrollWhenNeeded);
<a name="l00211"></a>00211   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[7], XtNstring, fullpath);
<a name="l00212"></a>00212   edit_text = XtCreateManagedWidget(<span class="stringliteral">"dialog_text"</span>,
<a name="l00213"></a>00213                                     asciiTextWidgetClass,
<a name="l00214"></a>00214                                     asciiForm,
<a name="l00215"></a>00215                                     <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 8);
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   XtOverrideTranslations(edit_text,XtParseTranslationTable(<a class="code" href="xedit_8c.html#a488d1e2cf39fb6a5a54ec1af4ebca3f">xclips_translation3</a>));
<a name="l00218"></a>00218 
<a name="l00219"></a>00219   <span class="comment">/* ================================== */</span>
<a name="l00220"></a>00220   <span class="comment">/*        CREATE FILE MENU            */</span>
<a name="l00221"></a>00221   <span class="comment">/* ================================== */</span>
<a name="l00222"></a>00222 
<a name="l00223"></a>00223   button = XtCreateManagedWidget(<span class="stringliteral">"File"</span>,
<a name="l00224"></a>00224                                  menuButtonWidgetClass,
<a name="l00225"></a>00225                                  edit_form,
<a name="l00226"></a>00226                                  NULL, 0);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228   menu = XtCreatePopupShell(<span class="stringliteral">"menu"</span>,
<a name="l00229"></a>00229                             simpleMenuWidgetClass,
<a name="l00230"></a>00230                             button,
<a name="l00231"></a>00231                             NULL, 0);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233   item = XtCreateManagedWidget(<span class="stringliteral">"Save"</span>,
<a name="l00234"></a>00234                                smeBSBObjectClass,
<a name="l00235"></a>00235                                menu,
<a name="l00236"></a>00236                                NULL, 0);
<a name="l00237"></a>00237   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#6f894b6c5769854b891f55d4a4293192">EditorSaveCallback</a>, (XtPointer)(edit_text));
<a name="l00238"></a>00238   item = XtCreateManagedWidget(<span class="stringliteral">"Save As"</span>,
<a name="l00239"></a>00239                                smeBSBObjectClass,
<a name="l00240"></a>00240                                menu,
<a name="l00241"></a>00241                                NULL, 0);
<a name="l00242"></a>00242   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#fd52a5200b056a68a036758892824519">EditorSaveAsCallback</a>,
<a name="l00243"></a>00243                 (XtPointer)(edit_text));
<a name="l00244"></a>00244   item = XtCreateManagedWidget(<span class="stringliteral">"Revert"</span>,
<a name="l00245"></a>00245                                smeBSBObjectClass,
<a name="l00246"></a>00246                                menu,
<a name="l00247"></a>00247                                NULL, 0);
<a name="l00248"></a>00248   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#1e076fc61ffa56038a493984efb56295">EditorRevertCallback</a>,
<a name="l00249"></a>00249                 (XtPointer)(edit_text));
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   (void)XtCreateManagedWidget(<span class="stringliteral">"line"</span>,smeLineObjectClass,menu,NULL,0);
<a name="l00252"></a>00252   
<a name="l00253"></a>00253   item = XtCreateManagedWidget(<span class="stringliteral">"Load Selection"</span>,
<a name="l00254"></a>00254                                smeBSBObjectClass,
<a name="l00255"></a>00255                                menu,
<a name="l00256"></a>00256                                NULL, 0);
<a name="l00257"></a>00257   XtAddCallback(item, XtNcallback,  <a class="code" href="xedit_8c.html#0cc9b0b7a908a96925aedbfb357eadac">EditorCompileSelectionCallback</a>,
<a name="l00258"></a>00258                 (XtPointer)edit_text);
<a name="l00259"></a>00259 
<a name="l00260"></a>00260   item = XtCreateManagedWidget(<span class="stringliteral">"Batch Selection"</span>,
<a name="l00261"></a>00261                                smeBSBObjectClass,
<a name="l00262"></a>00262                                menu,
<a name="l00263"></a>00263                                NULL, 0);
<a name="l00264"></a>00264   XtAddCallback(item,XtNcallback,<a class="code" href="xedit_8c.html#0b29dc4ffb37bca71283ee4d6ba01661">EditorBatchSelectionCb</a>,(XtPointer)edit_text);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   item = XtCreateManagedWidget(<span class="stringliteral">"Load Buffer"</span>,
<a name="l00267"></a>00267                                smeBSBObjectClass,
<a name="l00268"></a>00268                                menu,
<a name="l00269"></a>00269                                NULL, 0); 
<a name="l00270"></a>00270   XtAddCallback(item, XtNcallback,  <a class="code" href="xedit_8c.html#a90ffb656cdeba24252fa236958010fe">EditorCompileFileCallback</a>,
<a name="l00271"></a>00271                 (XtPointer)edit_text);
<a name="l00272"></a>00272  
<a name="l00273"></a>00273 
<a name="l00274"></a>00274   (void)XtCreateManagedWidget(<span class="stringliteral">"line"</span>,smeLineObjectClass,menu,NULL,0);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276   item = XtCreateManagedWidget(<span class="stringliteral">"Exit"</span>,
<a name="l00277"></a>00277                                smeBSBObjectClass,
<a name="l00278"></a>00278                                menu,
<a name="l00279"></a>00279                                NULL, 0);
<a name="l00280"></a>00280   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#d90d687ef4d073604e4b145ba77409c4">EditorExitCallback</a>, (XtPointer)edit_text);
<a name="l00281"></a>00281 
<a name="l00282"></a>00282   <span class="comment">/* ================================= */</span>
<a name="l00283"></a>00283   <span class="comment">/*     Create the Edit Menu          */</span>
<a name="l00284"></a>00284   <span class="comment">/* ================================= */</span>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNfromHoriz, button);
<a name="l00287"></a>00287   button = XtCreateManagedWidget(<span class="stringliteral">"Edit"</span>,
<a name="l00288"></a>00288                                  menuButtonWidgetClass,
<a name="l00289"></a>00289                                  edit_form,
<a name="l00290"></a>00290                                  <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 1);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292   menu = XtCreatePopupShell(<span class="stringliteral">"menu"</span>,
<a name="l00293"></a>00293                             simpleMenuWidgetClass,
<a name="l00294"></a>00294                             button,
<a name="l00295"></a>00295                             NULL, 0);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297   item = XtCreateManagedWidget(<span class="stringliteral">"Complete...   ^C"</span>,
<a name="l00298"></a>00298                                smeBSBObjectClass,
<a name="l00299"></a>00299                                menu,
<a name="l00300"></a>00300                                NULL, 0);
<a name="l00301"></a>00301   XtAddCallback(item, XtNcallback, <a class="code" href="xmenu__file_8c.html#08b5acfa965344455c2bab9849765364">CompletionEditCallback</a>, (XtPointer)edit_text);
<a name="l00302"></a>00302   (void)XtCreateManagedWidget(<span class="stringliteral">"line"</span>,
<a name="l00303"></a>00303                                smeLineObjectClass,
<a name="l00304"></a>00304                                menu,
<a name="l00305"></a>00305                                NULL, 0);
<a name="l00306"></a>00306   item = XtCreateManagedWidget(<span class="stringliteral">"Cut"</span>,
<a name="l00307"></a>00307                                smeBSBObjectClass,
<a name="l00308"></a>00308                                menu,
<a name="l00309"></a>00309                                NULL, 0);
<a name="l00310"></a>00310   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#22321ed5bb127d944b74ed1992ea68cc">EditorCutCallback</a>, (XtPointer)edit_text);
<a name="l00311"></a>00311   item = XtCreateManagedWidget(<span class="stringliteral">"Paste"</span>,
<a name="l00312"></a>00312                                smeBSBObjectClass,
<a name="l00313"></a>00313                                menu,
<a name="l00314"></a>00314                                NULL, 0);
<a name="l00315"></a>00315   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#6d4543e6f8ace69474f178a628742fff">EditorPasteCallback</a>, (XtPointer)edit_text);
<a name="l00316"></a>00316   item = XtCreateManagedWidget(<span class="stringliteral">"Search/Replace..."</span>,
<a name="l00317"></a>00317                                smeBSBObjectClass,
<a name="l00318"></a>00318                                menu,
<a name="l00319"></a>00319                                NULL, 0);
<a name="l00320"></a>00320   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#d3e48a6c0a5252ab8e6cccac3304d224">EditorSearchReplaceCallback</a>,
<a name="l00321"></a>00321                 (XtPointer)edit_text);
<a name="l00322"></a>00322   item = XtCreateManagedWidget(<span class="stringliteral">"Balance       ^B"</span>,
<a name="l00323"></a>00323                                smeBSBObjectClass,
<a name="l00324"></a>00324                                menu,
<a name="l00325"></a>00325                                NULL, 0);
<a name="l00326"></a>00326   XtAddCallback(item,XtNcallback,<a class="code" href="xedit_8c.html#79c9fa5711e5cbc1eefd751f8b28a08c">FindMatchingParenthesisCallback</a>,(XtPointer)edit_text);
<a name="l00327"></a>00327   (void)XtCreateManagedWidget(<span class="stringliteral">"line"</span>,
<a name="l00328"></a>00328                                smeLineObjectClass,
<a name="l00329"></a>00329                                menu,
<a name="l00330"></a>00330                                NULL, 0);
<a name="l00331"></a>00331   item = XtCreateManagedWidget(<span class="stringliteral">"Beginning of File"</span>,
<a name="l00332"></a>00332                                smeBSBObjectClass,
<a name="l00333"></a>00333                                menu,
<a name="l00334"></a>00334                                NULL, 0);
<a name="l00335"></a>00335   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#ab665d314336ff1d6ed15c7262467f48">EditorBeginingOfFileCallback</a>,
<a name="l00336"></a>00336                 (XtPointer)edit_text);
<a name="l00337"></a>00337   item = XtCreateManagedWidget(<span class="stringliteral">"End of File"</span>,
<a name="l00338"></a>00338                                smeBSBObjectClass,
<a name="l00339"></a>00339                                menu,
<a name="l00340"></a>00340                                NULL, 0);
<a name="l00341"></a>00341   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#1ef06d1d83ccf46bf530052f7bfc2059">EditorEndOfFileCallback</a>,
<a name="l00342"></a>00342                 (XtPointer)edit_text);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   <span class="comment">/* ================================= */</span>
<a name="l00345"></a>00345   <span class="comment">/*    Create Font Menu               */</span>
<a name="l00346"></a>00346   <span class="comment">/* ================================= */</span>
<a name="l00347"></a>00347 
<a name="l00348"></a>00348   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNfromHoriz, button);
<a name="l00349"></a>00349   button = XtCreateManagedWidget(<span class="stringliteral">"Font"</span>,
<a name="l00350"></a>00350                                  menuButtonWidgetClass,
<a name="l00351"></a>00351                                  edit_form,
<a name="l00352"></a>00352                                  <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 1);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354   menu = XtCreatePopupShell(<span class="stringliteral">"menu"</span>,
<a name="l00355"></a>00355                             simpleMenuWidgetClass,
<a name="l00356"></a>00356                             button,
<a name="l00357"></a>00357                             NULL, 0);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359   item = XtCreateManagedWidget(<span class="stringliteral">"5x8"</span>,
<a name="l00360"></a>00360                                smeBSBObjectClass,
<a name="l00361"></a>00361                                menu,
<a name="l00362"></a>00362                                NULL, 0);
<a name="l00363"></a>00363   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00364"></a>00364   item = XtCreateManagedWidget(<span class="stringliteral">"6x10"</span>,
<a name="l00365"></a>00365                                smeBSBObjectClass,
<a name="l00366"></a>00366                                menu,
<a name="l00367"></a>00367                                NULL, 0);
<a name="l00368"></a>00368   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00369"></a>00369   item = XtCreateManagedWidget(<span class="stringliteral">"6x13bold"</span>,
<a name="l00370"></a>00370                                smeBSBObjectClass,
<a name="l00371"></a>00371                                menu,
<a name="l00372"></a>00372                                NULL, 0);
<a name="l00373"></a>00373   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00374"></a>00374   item = XtCreateManagedWidget(<span class="stringliteral">"7x13bold"</span>,
<a name="l00375"></a>00375                                smeBSBObjectClass,
<a name="l00376"></a>00376                                menu,
<a name="l00377"></a>00377                                NULL, 0);
<a name="l00378"></a>00378   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00379"></a>00379   item = XtCreateManagedWidget(<span class="stringliteral">"8x13bold"</span>,
<a name="l00380"></a>00380                                smeBSBObjectClass,
<a name="l00381"></a>00381                                menu,
<a name="l00382"></a>00382                                NULL, 0);
<a name="l00383"></a>00383   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00384"></a>00384   item = XtCreateManagedWidget(<span class="stringliteral">"9x15bold"</span>,
<a name="l00385"></a>00385                                smeBSBObjectClass,
<a name="l00386"></a>00386                                menu,
<a name="l00387"></a>00387                                NULL, 0);
<a name="l00388"></a>00388   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00389"></a>00389   item = XtCreateManagedWidget(<span class="stringliteral">"10x20"</span>,
<a name="l00390"></a>00390                                smeBSBObjectClass,
<a name="l00391"></a>00391                                menu,
<a name="l00392"></a>00392                                NULL, 0);
<a name="l00393"></a>00393   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00394"></a>00394   item = XtCreateManagedWidget(<span class="stringliteral">"12x24"</span>,
<a name="l00395"></a>00395                                smeBSBObjectClass,
<a name="l00396"></a>00396                                menu,
<a name="l00397"></a>00397                                NULL, 0);
<a name="l00398"></a>00398   XtAddCallback(item, XtNcallback, EditorFontSelect, (XtPointer)edit_text);
<a name="l00399"></a>00399 
<a name="l00400"></a>00400   <span class="comment">/* ================================== */</span>
<a name="l00401"></a>00401   <span class="comment">/*        Create Help Menu            */</span>
<a name="l00402"></a>00402   <span class="comment">/* ================================== */</span>
<a name="l00403"></a>00403 
<a name="l00404"></a>00404   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNfromHoriz, button);
<a name="l00405"></a>00405   button = XtCreateManagedWidget(<span class="stringliteral">"Help"</span>,
<a name="l00406"></a>00406                                  menuButtonWidgetClass,
<a name="l00407"></a>00407                                  edit_form,
<a name="l00408"></a>00408                                  <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 1);
<a name="l00409"></a>00409 
<a name="l00410"></a>00410   menu = XtCreatePopupShell(<span class="stringliteral">"menu"</span>,
<a name="l00411"></a>00411                             simpleMenuWidgetClass,
<a name="l00412"></a>00412                             button,
<a name="l00413"></a>00413                             NULL, 0);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415   item = XtCreateManagedWidget(<span class="stringliteral">"Key Bindings"</span>,
<a name="l00416"></a>00416                                smeBSBObjectClass,
<a name="l00417"></a>00417                                menu,
<a name="l00418"></a>00418                                NULL, 0);
<a name="l00419"></a>00419   XtAddCallback(item, XtNcallback, <a class="code" href="xedit_8c.html#8a4be6cd6f94f9cc0761de8916c06284">EditorHelpSelect</a>, (XtPointer)edit_text);
<a name="l00420"></a>00420 
<a name="l00421"></a>00421   XtPopup(edit, XtGrabNone);
<a name="l00422"></a>00422   }
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">/*******************************************************************************</span>
<a name="l00425"></a>00425 <span class="comment">          Name:        EditorSaveCallback</span>
<a name="l00426"></a>00426 <span class="comment">          Description: Called when Save is selected from the File menu</span>
<a name="l00427"></a>00427 <span class="comment">                       This function pops up a confirmation box before</span>
<a name="l00428"></a>00428 <span class="comment">                       the file should be saved.</span>
<a name="l00429"></a>00429 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00430"></a>00430 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00431"></a>00431 <span class="comment">                       call_data - Not Used</span>
<a name="l00432"></a>00432 <span class="comment">          Returns:     None</span>
<a name="l00433"></a>00433 <span class="comment">*******************************************************************************/</span>
<a name="l00434"></a><a class="code" href="xedit_8h.html#5c52abcc8330deb4b1e0eded4d4272a0">00434</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#6f894b6c5769854b891f55d4a4293192">EditorSaveCallback</a>(
<a name="l00435"></a>00435   Widget w,
<a name="l00436"></a>00436   XtPointer client_data,
<a name="l00437"></a>00437   XtPointer call_data)
<a name="l00438"></a>00438   {
<a name="l00439"></a>00439   Widget popup, confirm;
<a name="l00440"></a>00440 
<a name="l00441"></a>00441   popup = XtCreatePopupShell(<span class="stringliteral">"popup"</span>,
<a name="l00442"></a>00442                              topLevelShellWidgetClass,
<a name="l00443"></a>00443                              <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00444"></a>00444                              NULL, 0);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNlabel, <span class="stringliteral">"This will overwrite\nthe old file!"</span>);
<a name="l00447"></a>00447   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNicon, <a class="code" href="xmain_8c.html#29730cb94a8f8b34a001155a0c1909d8">clips_logo</a>);
<a name="l00448"></a>00448   confirm = XtCreateManagedWidget(<span class="stringliteral">"confirm"</span>,
<a name="l00449"></a>00449                                   dialogWidgetClass,
<a name="l00450"></a>00450                                   popup,
<a name="l00451"></a>00451                                   <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 2);
<a name="l00452"></a>00452   XawDialogAddButton(confirm, <span class="stringliteral">"Overwrite"</span>, EditorSave, client_data);
<a name="l00453"></a>00453   XawDialogAddButton(confirm, <span class="stringliteral">"Cancel"</span>, <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>, (XtPointer)confirm);
<a name="l00454"></a>00454 
<a name="l00455"></a>00455   XtPopup(popup, XtGrabNonexclusive);
<a name="l00456"></a>00456   }
<a name="l00457"></a>00457 
<a name="l00458"></a>00458 <span class="comment">/*******************************************************************************</span>
<a name="l00459"></a>00459 <span class="comment">          Name:        EditorSaveAsCallback</span>
<a name="l00460"></a>00460 <span class="comment">          Description: Called when Save As is selected from the File menu.</span>
<a name="l00461"></a>00461 <span class="comment">                       This function will save the file under a new name.</span>
<a name="l00462"></a>00462 <span class="comment">          Arguments:   w - menu item that was selected</span>
<a name="l00463"></a>00463 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00464"></a>00464 <span class="comment">                       call_data - Not Used</span>
<a name="l00465"></a>00465 <span class="comment">          Returns:     None</span>
<a name="l00466"></a>00466 <span class="comment">*******************************************************************************/</span>
<a name="l00467"></a><a class="code" href="xedit_8h.html#c774c70f86366201ebce0a555b87df84">00467</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#fd52a5200b056a68a036758892824519">EditorSaveAsCallback</a>(
<a name="l00468"></a>00468   Widget w,
<a name="l00469"></a>00469   XtPointer client_data,
<a name="l00470"></a>00470   XtPointer call_data)
<a name="l00471"></a>00471   {
<a name="l00472"></a>00472   Widget popup, file_dialog;
<a name="l00473"></a>00473 
<a name="l00474"></a>00474   <a class="code" href="xmenu__file_8c.html#e9de8d6ff5560949bf6fd049dde68912">file_item</a> = <a class="code" href="xclips_8h.html#c112ad76254ec702aadba376860b915c">SAVEAS</a>;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476   popup = XtCreatePopupShell(<span class="stringliteral">"popup"</span>,
<a name="l00477"></a>00477                              topLevelShellWidgetClass,
<a name="l00478"></a>00478                              <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00479"></a>00479                              NULL, 0);
<a name="l00480"></a>00480 
<a name="l00481"></a>00481   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNlabel, <span class="stringliteral">"Enter new file name:"</span>);
<a name="l00482"></a>00482   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNvalue,  <span class="stringliteral">""</span>);
<a name="l00483"></a>00483   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[2], XtNicon, <a class="code" href="xmain_8c.html#29730cb94a8f8b34a001155a0c1909d8">clips_logo</a>);
<a name="l00484"></a>00484   file_dialog = XtCreateManagedWidget(<span class="stringliteral">"file_dialog"</span>,
<a name="l00485"></a>00485                                       dialogWidgetClass,
<a name="l00486"></a>00486                                       popup,
<a name="l00487"></a>00487                                       <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 3);
<a name="l00488"></a>00488   XawDialogAddButton(file_dialog, <span class="stringliteral">"Save"</span>, <a class="code" href="xedit_8c.html#a023fb1a0330b50f5086bd6e72871e95">EditorSaveAs</a>, client_data);
<a name="l00489"></a>00489   XawDialogAddButton(file_dialog, <span class="stringliteral">"Cancel"</span>, <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>,
<a name="l00490"></a>00490                      (XtPointer)file_dialog);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492   XtPopup(popup, XtGrabNonexclusive);
<a name="l00493"></a>00493   }
<a name="l00494"></a>00494 
<a name="l00495"></a>00495 <span class="comment">/*******************************************************************************</span>
<a name="l00496"></a>00496 <span class="comment">          Name:        EditorRevertCallback</span>
<a name="l00497"></a>00497 <span class="comment">          Description: Called when Revert is selected from the File menu.</span>
<a name="l00498"></a>00498 <span class="comment">                       This function undo all the modifications since</span>
<a name="l00499"></a>00499 <span class="comment">                       the openning of the file.</span>
<a name="l00500"></a>00500 <span class="comment">          Arguments:   w - menu item that was selected</span>
<a name="l00501"></a>00501 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00502"></a>00502 <span class="comment">                       call_data - Not Used</span>
<a name="l00503"></a>00503 <span class="comment">          Returns:     None</span>
<a name="l00504"></a>00504 <span class="comment">*******************************************************************************/</span>
<a name="l00505"></a><a class="code" href="xedit_8h.html#a1eaf8f6788b408dd1cb4a09955e933f">00505</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#1e076fc61ffa56038a493984efb56295">EditorRevertCallback</a>(
<a name="l00506"></a>00506   Widget w,
<a name="l00507"></a>00507   XtPointer client_data,
<a name="l00508"></a>00508   XtPointer call_data)
<a name="l00509"></a>00509   {
<a name="l00510"></a>00510   Widget popup, confirm;
<a name="l00511"></a>00511   String <a class="code" href="ed_8h.html#84e9301b439b6b9d4f2186e88a0c0ba9">filename</a>;
<a name="l00512"></a>00512 
<a name="l00513"></a>00513   <a class="code" href="xmenu__file_8c.html#e9de8d6ff5560949bf6fd049dde68912">file_item</a> = <a class="code" href="xclips_8h.html#535f7ad104540c1d5623938c5def0967">REVERT</a>;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   popup = XtCreatePopupShell(<span class="stringliteral">"popup"</span>,
<a name="l00516"></a>00516                              topLevelShellWidgetClass,
<a name="l00517"></a>00517                              <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00518"></a>00518                              NULL, 0);
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNstring, &amp;filename);
<a name="l00521"></a>00521   XtGetValues((Widget)client_data, <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 1);
<a name="l00522"></a>00522   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNlabel, <span class="stringliteral">"You will loose\nall your changes!"</span>);
<a name="l00523"></a>00523   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNicon, <a class="code" href="xmain_8c.html#29730cb94a8f8b34a001155a0c1909d8">clips_logo</a>);
<a name="l00524"></a>00524   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[2], XtNvalue, filename);
<a name="l00525"></a>00525   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[3], XtNeditType, XawtextRead);
<a name="l00526"></a>00526   confirm = XtCreateManagedWidget(<span class="stringliteral">"confirm"</span>, dialogWidgetClass, popup, <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 4);
<a name="l00527"></a>00527   XawDialogAddButton(confirm, <span class="stringliteral">"Revert"</span>, <a class="code" href="xedit_8c.html#240bbd241d40c21bcbf511835b32ccab">EditorRevert</a>, client_data);
<a name="l00528"></a>00528   XawDialogAddButton(confirm, <span class="stringliteral">"Cancel"</span>, <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>, (XtPointer)confirm);
<a name="l00529"></a>00529 
<a name="l00530"></a>00530   XtPopup(popup, XtGrabNonexclusive);
<a name="l00531"></a>00531   }
<a name="l00532"></a>00532 
<a name="l00533"></a>00533 <span class="comment">/* ================================================ */</span>
<a name="l00534"></a>00534 <span class="comment">/*    The below functions are for interacting with  */</span>
<a name="l00535"></a>00535 <span class="comment">/*    CLIPS.                                        */</span>
<a name="l00536"></a>00536 <span class="comment">/* ================================================ */</span>                       
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="comment">/*******************************************************************************</span>
<a name="l00539"></a>00539 <span class="comment">          Name:        FindSelection</span>
<a name="l00540"></a>00540 <span class="comment">          Description: Find the router</span>
<a name="l00541"></a>00541 <span class="comment">          Argument:    log_name - Router's logical name</span>
<a name="l00542"></a>00542 <span class="comment">          Returns:     True if found else fasle</span>
<a name="l00543"></a>00543 <span class="comment">*******************************************************************************/</span>
<a name="l00544"></a><a class="code" href="xedit_8h.html#56e837dcc568cb50dc7c93a2baced094">00544</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#1a57e1aee4be4373fbfa534676b9f4e8">FindSelection</a>(
<a name="l00545"></a>00545 <span class="keywordtype">void</span> *theEnv,
<a name="l00546"></a>00546 <span class="keywordtype">char</span> *log_name)
<a name="l00547"></a>00547 {
<a name="l00548"></a>00548     <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"XeditSelection"</span>,log_name)== 0)
<a name="l00549"></a>00549         <span class="keywordflow">return</span>(<a class="code" href="xclips_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l00550"></a>00550     <span class="keywordflow">return</span>(<a class="code" href="xclips_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00551"></a>00551  }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553 <span class="comment">/********************************************************************************</span>
<a name="l00554"></a>00554 <span class="comment">        Name:         SelectionGetc</span>
<a name="l00555"></a>00555 <span class="comment">        Description:  Get a charater from the current selection </span>
<a name="l00556"></a>00556 <span class="comment">                      in the editor.</span>
<a name="l00557"></a>00557 <span class="comment">        Argument:     log_name - router's logical name</span>
<a name="l00558"></a>00558 <span class="comment">        Return:       character</span>
<a name="l00559"></a>00559 <span class="comment">*******************************************************************************/</span>
<a name="l00560"></a><a class="code" href="xedit_8h.html#2d1be80559265098ce065fed73d2cc70">00560</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#c79a78bab25df4afe7dfe3da36f062d5">SelectionGetc</a>(
<a name="l00561"></a>00561   <span class="keywordtype">void</span> *theEnv,
<a name="l00562"></a>00562   <span class="keywordtype">char</span> *log_name)
<a name="l00563"></a>00563   {
<a name="l00564"></a>00564 
<a name="l00565"></a>00565    XawTextBlock text_return;
<a name="l00566"></a>00566 
<a name="l00567"></a>00567    <span class="keywordflow">if</span>(XawTextSourceRead(<a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a>,<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,&amp;text_return,1) != <a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>)
<a name="l00568"></a>00568     {
<a name="l00569"></a>00569        <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>++;
<a name="l00570"></a>00570        <span class="keywordflow">return</span>((<span class="keywordtype">int</span>)text_return.ptr[0]);
<a name="l00571"></a>00571     }
<a name="l00572"></a>00572    <span class="keywordflow">else</span>
<a name="l00573"></a>00573     <span class="keywordflow">return</span>(EOF);
<a name="l00574"></a>00574 }
<a name="l00575"></a>00575 <span class="comment">/********************************************************************************</span>
<a name="l00576"></a>00576 <span class="comment">        Name:           SelectionUngetc</span>
<a name="l00577"></a>00577 <span class="comment">        Description:    Move the cursor back one character</span>
<a name="l00578"></a>00578 <span class="comment">        Argument:       c - the character that being pushed back</span>
<a name="l00579"></a>00579 <span class="comment">        Return:         always 1</span>
<a name="l00580"></a>00580 <span class="comment">*******************************************************************************/</span>
<a name="l00581"></a><a class="code" href="xedit_8h.html#5c256675f6981920529a66df80f78f07">00581</a> <span class="keywordtype">int</span>  <a class="code" href="xedit_8c.html#134b1af853c215b9d35944ebe8767c9a">SelectionUngetc</a>(
<a name="l00582"></a>00582   <span class="keywordtype">void</span> *theEnv,
<a name="l00583"></a>00583 <span class="keywordtype">int</span> c,
<a name="l00584"></a>00584 <span class="keywordtype">char</span> *log_name)
<a name="l00585"></a>00585 {
<a name="l00586"></a>00586    <span class="keywordflow">if</span> (c == EOF )
<a name="l00587"></a>00587     <span class="keywordflow">return</span>(1);
<a name="l00588"></a>00588    <span class="keywordflow">if</span>(<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a> &gt; 0)
<a name="l00589"></a>00589      <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>--;
<a name="l00590"></a>00590    <span class="keywordflow">return</span>(1);
<a name="l00591"></a>00591 }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 
<a name="l00594"></a>00594 <span class="comment">/********************************************************************************</span>
<a name="l00595"></a>00595 <span class="comment">        Name:         EditorCompileSelectionCallback</span>
<a name="l00596"></a>00596 <span class="comment">        Description:  Load the selection to CLIPS window</span>
<a name="l00597"></a>00597 <span class="comment">        Argument:     w - the widget that initiates the callback</span>
<a name="l00598"></a>00598 <span class="comment">                      client_data - the editor widget</span>
<a name="l00599"></a>00599 <span class="comment">                      call_data   - Not used</span>
<a name="l00600"></a>00600 <span class="comment">        Return:       none</span>
<a name="l00601"></a>00601 <span class="comment">*******************************************************************************/</span>
<a name="l00602"></a>00602 
<a name="l00603"></a><a class="code" href="xedit_8h.html#19828012bc5478dda00d2c93ca18355d">00603</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#0cc9b0b7a908a96925aedbfb357eadac">EditorCompileSelectionCallback</a>(
<a name="l00604"></a>00604   Widget w,
<a name="l00605"></a>00605   XtPointer client_data,
<a name="l00606"></a>00606   XtPointer call_data)
<a name="l00607"></a>00607   {
<a name="l00608"></a>00608    <span class="keywordtype">void</span> *theEnv = <a class="code" href="envrnmnt_8c.html#380e0dbb0c839c3caeabedcd2ab542d3">GetCurrentEnvironment</a>();
<a name="l00609"></a>00609    
<a name="l00610"></a>00610    <a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a> = XawTextGetSource((Widget)client_data);
<a name="l00611"></a>00611    
<a name="l00612"></a>00612    XawTextGetSelectionPos((Widget)client_data,&amp;<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,&amp;<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>);
<a name="l00613"></a>00613    <span class="keywordflow">if</span>(<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a> == <a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>)  <span class="comment">/* No selection was made */</span>
<a name="l00614"></a>00614       <span class="keywordflow">return</span>;
<a name="l00615"></a>00615 
<a name="l00616"></a>00616    <a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>++;                       <span class="comment">/* Move the cursor to the end of the selection */</span>
<a name="l00617"></a>00617 
<a name="l00618"></a>00618   <span class="comment">/* Create a IO router for the buffer */</span>
<a name="l00619"></a>00619 
<a name="l00620"></a>00620     <a class="code" href="router_8c.html#eaa8cd6805cdfaacd12f33aac695b33a">EnvAddRouter</a>(theEnv,<span class="stringliteral">"xclipsSelection"</span>,90,<a class="code" href="xedit_8c.html#1a57e1aee4be4373fbfa534676b9f4e8">FindSelection</a>,NULL,<a class="code" href="xedit_8c.html#c79a78bab25df4afe7dfe3da36f062d5">SelectionGetc</a>,<a class="code" href="xedit_8c.html#134b1af853c215b9d35944ebe8767c9a">SelectionUngetc</a>,NULL);
<a name="l00621"></a>00621 
<a name="l00622"></a>00622   <span class="comment">/* Compile  */</span>
<a name="l00623"></a>00623 
<a name="l00624"></a>00624     <a class="code" href="xedit_8c.html#f9ad2f8a1c451b796b75ccc5d1818fd8">LoadXFile</a>(<span class="stringliteral">"xclipsSelection"</span>,<span class="stringliteral">"XeditSelection"</span>);
<a name="l00625"></a>00625     <a class="code" href="router_8c.html#b440fbdc73d01def2c24bc96adbf4aeb">EnvPrintRouter</a>(theEnv,<span class="stringliteral">"wclips"</span>,<span class="stringliteral">"CLIPS&gt; "</span>);
<a name="l00626"></a>00626     <a class="code" href="xmain_8c.html#94182c7081d05bc1cc01b6c5af1aaee1">quit_get_event</a> = True;
<a name="l00627"></a>00627   }
<a name="l00628"></a>00628 <span class="comment">/*******************************************************************************</span>
<a name="l00629"></a>00629 <span class="comment">          Name:        FileFind</span>
<a name="l00630"></a>00630 <span class="comment">          Description: Find the router</span>
<a name="l00631"></a>00631 <span class="comment">          Argument:    log_name - Router's logical name</span>
<a name="l00632"></a>00632 <span class="comment">          Returns:     True if found else fasle</span>
<a name="l00633"></a>00633 <span class="comment">*******************************************************************************/</span>
<a name="l00634"></a><a class="code" href="xedit_8h.html#3ca4d84256ee9ae042d5ac8e310c93ee">00634</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#09d7675a533c9380dcc1c0200018aac6">FileFind</a>(
<a name="l00635"></a>00635 <span class="keywordtype">void</span> *theEnv,
<a name="l00636"></a>00636 <span class="keywordtype">char</span> *log_name)
<a name="l00637"></a>00637 {
<a name="l00638"></a>00638     <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">"XeditBuffer"</span>,log_name)== 0)
<a name="l00639"></a>00639         <span class="keywordflow">return</span>(<a class="code" href="xclips_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l00640"></a>00640     <span class="keywordflow">return</span>(<a class="code" href="xclips_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00641"></a>00641  }
<a name="l00642"></a>00642 
<a name="l00643"></a>00643 <span class="comment">/********************************************************************************</span>
<a name="l00644"></a>00644 <span class="comment">        Name:         FileGetc</span>
<a name="l00645"></a>00645 <span class="comment">        Description:  Get a charater from the current buffer.</span>
<a name="l00646"></a>00646 <span class="comment">        Argument:     log_name - router's logical name</span>
<a name="l00647"></a>00647 <span class="comment">        Return:       character</span>
<a name="l00648"></a>00648 <span class="comment">*******************************************************************************/</span>
<a name="l00649"></a><a class="code" href="xedit_8h.html#629f9bd7c254274a94ec7b1e3aa9f002">00649</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#0c5ec09c910d5575940c141f41632eb7">FileGetc</a>(
<a name="l00650"></a>00650 <span class="keywordtype">void</span> *theEnv,
<a name="l00651"></a>00651 <span class="keywordtype">char</span> *log_name)
<a name="l00652"></a>00652 {
<a name="l00653"></a>00653 
<a name="l00654"></a>00654    XawTextBlock text_return;
<a name="l00655"></a>00655 
<a name="l00656"></a>00656    <span class="keywordflow">if</span>(XawTextSourceRead(<a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a>,<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,&amp;text_return,1) != <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>)
<a name="l00657"></a>00657     {
<a name="l00658"></a>00658        <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>++;
<a name="l00659"></a>00659        <span class="keywordflow">return</span>((<span class="keywordtype">int</span>)text_return.ptr[0]);
<a name="l00660"></a>00660     }
<a name="l00661"></a>00661    <span class="keywordflow">else</span>
<a name="l00662"></a>00662     <span class="keywordflow">return</span>(EOF);
<a name="l00663"></a>00663 }
<a name="l00664"></a>00664 <span class="comment">/********************************************************************************</span>
<a name="l00665"></a>00665 <span class="comment">        Name:           FileUngetc</span>
<a name="l00666"></a>00666 <span class="comment">        Description:    Move the cursor back one character</span>
<a name="l00667"></a>00667 <span class="comment">        Argument:       c - the character that being pushed back</span>
<a name="l00668"></a>00668 <span class="comment">        Return:         always 1</span>
<a name="l00669"></a>00669 <span class="comment">*******************************************************************************/</span>
<a name="l00670"></a><a class="code" href="xedit_8h.html#5e74e3f2dd93eac2a4f03ab6275a7868">00670</a> <span class="keywordtype">int</span>  <a class="code" href="xedit_8c.html#401c70119819f906a3cc8240ab0d7913">FileUngetc</a>(
<a name="l00671"></a>00671 <span class="keywordtype">void</span> *theEnv,
<a name="l00672"></a>00672 <span class="keywordtype">int</span> c,
<a name="l00673"></a>00673 <span class="keywordtype">char</span> *log_name)
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675    <span class="keywordflow">if</span> (c == EOF )
<a name="l00676"></a>00676     <span class="keywordflow">return</span>(1);
<a name="l00677"></a>00677    <span class="keywordflow">if</span>(<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a> &gt; 0)
<a name="l00678"></a>00678      <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>--;
<a name="l00679"></a>00679    <span class="keywordflow">return</span>(1);
<a name="l00680"></a>00680 }
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 <span class="comment">/*******************************************************************************</span>
<a name="l00683"></a>00683 <span class="comment">          Name:        EditorCompileFileCallback</span>
<a name="l00684"></a>00684 <span class="comment">          Description: Called when Load File to CLIPS is selected from the File</span>
<a name="l00685"></a>00685 <span class="comment">                       menu. This function will load the entire buffer to</span>
<a name="l00686"></a>00686 <span class="comment">                       CLIPS.</span>
<a name="l00687"></a>00687 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00688"></a>00688 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00689"></a>00689 <span class="comment">                       call_data - Not Used</span>
<a name="l00690"></a>00690 <span class="comment">          Returns:     None</span>
<a name="l00691"></a>00691 <span class="comment">*******************************************************************************/</span>
<a name="l00692"></a><a class="code" href="xedit_8h.html#ca6f630a97ef45d6be99616b9b6f0aaf">00692</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#a90ffb656cdeba24252fa236958010fe">EditorCompileFileCallback</a>(
<a name="l00693"></a>00693   Widget w,
<a name="l00694"></a>00694   XtPointer client_data,
<a name="l00695"></a>00695   XtPointer call_data)
<a name="l00696"></a>00696 {
<a name="l00697"></a>00697    <span class="keywordtype">void</span> *theEnv = <a class="code" href="envrnmnt_8c.html#380e0dbb0c839c3caeabedcd2ab542d3">GetCurrentEnvironment</a>();
<a name="l00698"></a>00698    <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a> = 0;
<a name="l00699"></a>00699    <a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a> = XawTextGetSource((Widget)client_data);
<a name="l00700"></a>00700 
<a name="l00701"></a>00701   <span class="comment">/* Create a IO router for the file */</span>   
<a name="l00702"></a>00702 
<a name="l00703"></a>00703     <a class="code" href="router_8c.html#eaa8cd6805cdfaacd12f33aac695b33a">EnvAddRouter</a>(theEnv,<span class="stringliteral">"xclipsFile"</span>,90,<a class="code" href="xedit_8c.html#09d7675a533c9380dcc1c0200018aac6">FileFind</a>,NULL,<a class="code" href="xedit_8c.html#0c5ec09c910d5575940c141f41632eb7">FileGetc</a>,<a class="code" href="xedit_8c.html#401c70119819f906a3cc8240ab0d7913">FileUngetc</a>,NULL);
<a name="l00704"></a>00704 
<a name="l00705"></a>00705   <span class="comment">/* Compile  */</span>
<a name="l00706"></a>00706     <a class="code" href="xedit_8c.html#f9ad2f8a1c451b796b75ccc5d1818fd8">LoadXFile</a>(<span class="stringliteral">"xclipsFile"</span>,<span class="stringliteral">"XeditBuffer"</span>);
<a name="l00707"></a>00707     <a class="code" href="setup_8h.html#9524f70afe43e203f2bc09f781a4159d">PrintCLIPS</a>(<span class="stringliteral">"wclips"</span>,<span class="stringliteral">"CLIPS&gt; "</span>);
<a name="l00708"></a>00708     <a class="code" href="xmain_8c.html#94182c7081d05bc1cc01b6c5af1aaee1">quit_get_event</a> = True;
<a name="l00709"></a>00709 }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 <span class="comment">/********************************************************************************</span>
<a name="l00712"></a>00712 <span class="comment">        Name: LoadXFile</span>
<a name="l00713"></a>00713 <span class="comment">        Description:This function activates a router and tell CLIPS to</span>
<a name="l00714"></a>00714 <span class="comment">                    load the construct file using the router.</span>
<a name="l00715"></a>00715 <span class="comment">        Argument: char str1 - logical name of the router</span>
<a name="l00716"></a>00716 <span class="comment">                  char str2 - logical name of the buffer to be loaded</span>
<a name="l00717"></a>00717 <span class="comment">        Return: int - unused.</span>
<a name="l00718"></a>00718 <span class="comment">*******************************************************************************/</span>
<a name="l00719"></a><a class="code" href="xedit_8h.html#5ce2c30d0330ad9750b96990955dfe5d">00719</a> <span class="keywordtype">int</span>  <a class="code" href="xedit_8c.html#f9ad2f8a1c451b796b75ccc5d1818fd8">LoadXFile</a>(
<a name="l00720"></a>00720 <span class="keywordtype">char</span> *str1,
<a name="l00721"></a>00721 <span class="keywordtype">char</span> *str2)
<a name="l00722"></a>00722   {   
<a name="l00723"></a>00723    <span class="keywordtype">void</span> *theEnv = <a class="code" href="envrnmnt_8c.html#380e0dbb0c839c3caeabedcd2ab542d3">GetCurrentEnvironment</a>();
<a name="l00724"></a>00724 
<a name="l00725"></a>00725    <a class="code" href="router_8c.html#fd0a5f4b8fd6ae56cd369ae2e7b11d71">EnvActivateRouter</a>(theEnv,str1);
<a name="l00726"></a>00726    <a class="code" href="constrct_8c.html#e8bf8183ed1206c738d0d9d206bb0e58">SetPrintWhileLoading</a>(theEnv,<a class="code" href="xclips_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
<a name="l00727"></a>00727    <a class="code" href="cstrcpsr_8c.html#e03e67db6719da490176e2c095097990">LoadConstructsFromLogicalName</a>(theEnv,str2);
<a name="l00728"></a>00728    <a class="code" href="router_8c.html#bb9de6e21febf9c1db729cb2a112a4b9">EnvDeactivateRouter</a>(theEnv,str1);
<a name="l00729"></a>00729    <a class="code" href="constrct_8c.html#e8bf8183ed1206c738d0d9d206bb0e58">SetPrintWhileLoading</a>(theEnv,<a class="code" href="xclips_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00730"></a>00730    <a class="code" href="router_8c.html#9edd10efdfb060596273004bbd567bfd">EnvDeleteRouter</a>(theEnv,str1);
<a name="l00731"></a>00731    <span class="keywordflow">return</span> 0;
<a name="l00732"></a>00732 }
<a name="l00733"></a>00733 <span class="comment">/******************************************************************************</span>
<a name="l00734"></a>00734 <span class="comment">        Name:        EditorBatchSelectionCb</span>
<a name="l00735"></a>00735 <span class="comment">        Description: This function is called when Batch Selection is selected</span>
<a name="l00736"></a>00736 <span class="comment">                     from the menu. THis function will batch the current</span>
<a name="l00737"></a>00737 <span class="comment">                     selection and send to CLIPS.</span>
<a name="l00738"></a>00738 <span class="comment">        Argument: w - widget caused the event to happen</span>
<a name="l00739"></a>00739 <span class="comment">                  client_data - the text widget which contains the </span>
<a name="l00740"></a>00740 <span class="comment">                                edited buffer.</span>
<a name="l00741"></a>00741 <span class="comment">                  call_data - unused</span>
<a name="l00742"></a>00742 <span class="comment">        Return:</span>
<a name="l00743"></a>00743 <span class="comment">*******************************************************************************/</span>
<a name="l00744"></a><a class="code" href="xedit_8h.html#3474d58c6c0201406f9032d376843cf4">00744</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#0b29dc4ffb37bca71283ee4d6ba01661">EditorBatchSelectionCb</a>(
<a name="l00745"></a>00745   Widget w,
<a name="l00746"></a>00746   XtPointer client_data,
<a name="l00747"></a>00747   XtPointer call_data)
<a name="l00748"></a>00748 {
<a name="l00749"></a>00749    XawTextBlock text_return;
<a name="l00750"></a>00750 
<a name="l00751"></a>00751    <span class="keywordflow">if</span>(<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> != NULL)
<a name="l00752"></a>00752     {
<a name="l00753"></a>00753      free(<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>);
<a name="l00754"></a>00754      <a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> = NULL;
<a name="l00755"></a>00755     }
<a name="l00756"></a>00756    <a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a> = XawTextGetSource((Widget)client_data);
<a name="l00757"></a>00757    XawTextGetSelectionPos((Widget)client_data,&amp;<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,&amp;<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>);
<a name="l00758"></a>00758    XawTextSourceRead(<a class="code" href="xedit_8c.html#2505ab44516e8c36a5024a086da8e5e3">CurrentSource</a>,<a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>,&amp;text_return,<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a>  - <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a> );
<a name="l00759"></a>00759    <a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> = (<span class="keywordtype">char</span>*)malloc((<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a> - <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>) + 2);
<a name="l00760"></a>00760    strncpy(<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>,text_return.ptr,<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a> - <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>);
<a name="l00761"></a>00761    <a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>[<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a> - <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>] = <span class="charliteral">'\n'</span>;
<a name="l00762"></a>00762    <a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>[(<a class="code" href="xedit_8c.html#778845f746044da082d3d844543cd784">EndPosition</a> + 1) - <a class="code" href="xedit_8c.html#eb44c371853b87a6a14e31b29f73e464">CurrentPosition</a>] = 0;
<a name="l00763"></a>00763    <a class="code" href="filecom_8c.html#0f429f4fa5d1cded86e8473d1bbe710c">OpenStringBatch</a>(<a class="code" href="envrnmnt_8c.html#380e0dbb0c839c3caeabedcd2ab542d3">GetCurrentEnvironment</a>(),<span class="stringliteral">"editBatch"</span>,<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>,False);
<a name="l00764"></a>00764    <a class="code" href="xmain_8c.html#94182c7081d05bc1cc01b6c5af1aaee1">quit_get_event</a> = True;
<a name="l00765"></a>00765 }
<a name="l00766"></a>00766 
<a name="l00767"></a>00767 <span class="comment">/*******************************************************************************</span>
<a name="l00768"></a>00768 <span class="comment">          Name:        EditorExitCallback</span>
<a name="l00769"></a>00769 <span class="comment">          Description: Called when Exit is selected from the File menu</span>
<a name="l00770"></a>00770 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00771"></a>00771 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00772"></a>00772 <span class="comment">                       call_data - Not Used</span>
<a name="l00773"></a>00773 <span class="comment">          Returns:     None</span>
<a name="l00774"></a>00774 <span class="comment">*******************************************************************************/</span>
<a name="l00775"></a><a class="code" href="xedit_8h.html#1b8e262ac605d422385a132f48884e0a">00775</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#d90d687ef4d073604e4b145ba77409c4">EditorExitCallback</a>(
<a name="l00776"></a>00776   Widget w,
<a name="l00777"></a>00777   XtPointer client_data,
<a name="l00778"></a>00778   XtPointer call_data)
<a name="l00779"></a>00779   {
<a name="l00780"></a>00780   Widget popup, confirm;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782   popup = XtCreatePopupShell(<span class="stringliteral">"popup"</span>,
<a name="l00783"></a>00783                              topLevelShellWidgetClass,
<a name="l00784"></a>00784                              <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00785"></a>00785                              NULL, 0);
<a name="l00786"></a>00786 
<a name="l00787"></a>00787   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNlabel, <span class="stringliteral">"Exit this editor!\nAre you sure?"</span>);
<a name="l00788"></a>00788   XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[1], XtNicon, <a class="code" href="xmain_8c.html#29730cb94a8f8b34a001155a0c1909d8">clips_logo</a>);
<a name="l00789"></a>00789   confirm = XtCreateManagedWidget(<span class="stringliteral">"confirm"</span>,
<a name="l00790"></a>00790                                   dialogWidgetClass,
<a name="l00791"></a>00791                                   popup,
<a name="l00792"></a>00792                                   <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 2);
<a name="l00793"></a>00793   XawDialogAddButton(confirm, <span class="stringliteral">"Exit"</span>, ExitEditor,
<a name="l00794"></a>00794                      (XtPointer)(XtParent(XtParent((Widget)client_data))));
<a name="l00795"></a>00795   XawDialogAddButton(confirm, <span class="stringliteral">"Cancel"</span>, <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>, (XtPointer)confirm);
<a name="l00796"></a>00796 
<a name="l00797"></a>00797   <span class="keywordflow">if</span> (XawAsciiSourceChanged(XawTextGetSource((Widget)client_data)))
<a name="l00798"></a>00798     XawDialogAddButton(confirm, <span class="stringliteral">"Save First"</span>, EditorSaveFirst, client_data);
<a name="l00799"></a>00799 
<a name="l00800"></a>00800   XtPopup(popup, XtGrabNonexclusive);
<a name="l00801"></a>00801   }
<a name="l00802"></a>00802 
<a name="l00803"></a>00803 <span class="comment">/*******************************************************************************</span>
<a name="l00804"></a>00804 <span class="comment">          Name:        EditorCutCallback</span>
<a name="l00805"></a>00805 <span class="comment">          Description: Called when Cut is selected from the Edit menu</span>
<a name="l00806"></a>00806 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00807"></a>00807 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00808"></a>00808 <span class="comment">                       call_data - Not Used</span>
<a name="l00809"></a>00809 <span class="comment">          Returns:     None</span>
<a name="l00810"></a>00810 <span class="comment">*******************************************************************************/</span>
<a name="l00811"></a><a class="code" href="xedit_8h.html#e9fb8d39a8979d2c14e6b2f46f1bfe69">00811</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#22321ed5bb127d944b74ed1992ea68cc">EditorCutCallback</a>(
<a name="l00812"></a>00812   Widget w,
<a name="l00813"></a>00813   XtPointer client_data,
<a name="l00814"></a>00814   XtPointer call_data)
<a name="l00815"></a>00815   {
<a name="l00816"></a>00816   <a class="code" href="xclipstext_8c.html#ff72691ed94f9f3e580fc426abea6277">DeleteCurrentSelection</a>((Widget)client_data, &amp;<a class="code" href="xmain_8c.html#1aedd818f07872626210c526185af17d">TheEvent</a>);
<a name="l00817"></a>00817   }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819 <span class="comment">/*******************************************************************************</span>
<a name="l00820"></a>00820 <span class="comment">          Name:        EditorPasteCallback</span>
<a name="l00821"></a>00821 <span class="comment">          Description: Called when Paste is selected from the Edit menu</span>
<a name="l00822"></a>00822 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00823"></a>00823 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00824"></a>00824 <span class="comment">                       call_data - Not Used</span>
<a name="l00825"></a>00825 <span class="comment">          Returns:     None</span>
<a name="l00826"></a>00826 <span class="comment">*******************************************************************************/</span>
<a name="l00827"></a><a class="code" href="xedit_8h.html#f48e82fa25c90eef1ab3bd9735d63923">00827</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#6d4543e6f8ace69474f178a628742fff">EditorPasteCallback</a>(
<a name="l00828"></a>00828   Widget w,
<a name="l00829"></a>00829   XtPointer client_data,
<a name="l00830"></a>00830   XtPointer call_data)
<a name="l00831"></a>00831   {
<a name="l00832"></a>00832   <a class="code" href="xclipstext_8c.html#ebe9cc76d58e27635495ed540f7cfa44">Stuff</a>((TextWidget) client_data, &amp;<a class="code" href="xmain_8c.html#1aedd818f07872626210c526185af17d">TheEvent</a>);
<a name="l00833"></a>00833   }
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 <span class="comment">/*******************************************************************************</span>
<a name="l00836"></a>00836 <span class="comment">          Name:        EditorSearchReplaceCallback</span>
<a name="l00837"></a>00837 <span class="comment">          Description: Called when Search/Replace is selected from the Edit menu</span>
<a name="l00838"></a>00838 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00839"></a>00839 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00840"></a>00840 <span class="comment">                       call_data - Not Used</span>
<a name="l00841"></a>00841 <span class="comment">          Returns:     None</span>
<a name="l00842"></a>00842 <span class="comment">*******************************************************************************/</span>
<a name="l00843"></a><a class="code" href="xedit_8h.html#8b9ee8681eaa54528849dac969246760">00843</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#d3e48a6c0a5252ab8e6cccac3304d224">EditorSearchReplaceCallback</a>(
<a name="l00844"></a>00844   Widget w,
<a name="l00845"></a>00845   XtPointer client_data,
<a name="l00846"></a>00846   XtPointer call_data)
<a name="l00847"></a>00847   {
<a name="l00848"></a>00848   <span class="keyword">static</span> String <a class="code" href="struct__SelectionList.html#1e9ef0f7ec7c4ddc76057ba6596e4616">params</a>[] = {<span class="stringliteral">"forward"</span>};
<a name="l00849"></a>00849   Cardinal num_params = 1;
<a name="l00850"></a>00850 
<a name="l00851"></a>00851   _XawTextSearch((Widget)client_data, &amp;<a class="code" href="xmain_8c.html#1aedd818f07872626210c526185af17d">TheEvent</a>, params, &amp;num_params);
<a name="l00852"></a>00852   }
<a name="l00853"></a>00853 
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 <span class="comment">/*******************************************************************************</span>
<a name="l00856"></a>00856 <span class="comment">          Name:        FindMatchingParenthesisCallback</span>
<a name="l00857"></a>00857 <span class="comment">          Description: Find the matching parenthesis</span>
<a name="l00858"></a>00858 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l00859"></a>00859 <span class="comment">                       client_data - Widget to edit</span>
<a name="l00860"></a>00860 <span class="comment">                       call_data - Not Used</span>
<a name="l00861"></a>00861 <span class="comment">          Returns:     None</span>
<a name="l00862"></a>00862 <span class="comment">*******************************************************************************/</span>
<a name="l00863"></a><a class="code" href="xedit_8h.html#a4440dbede3b8892a67a8f0c17534fa2">00863</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#79c9fa5711e5cbc1eefd751f8b28a08c">FindMatchingParenthesisCallback</a>(
<a name="l00864"></a>00864   Widget w,
<a name="l00865"></a>00865   XtPointer client_data,
<a name="l00866"></a>00866   XtPointer call_data)
<a name="l00867"></a>00867   {
<a name="l00868"></a>00868      XawTextBlock text_return;
<a name="l00869"></a>00869      XawTextPosition length;
<a name="l00870"></a>00870      Boolean  Forward  = True;
<a name="l00871"></a>00871      Widget source = XawTextGetSource((Widget)client_data);
<a name="l00872"></a>00872      XawTextPosition Pos = XawTextGetInsertionPoint((Widget)client_data);
<a name="l00873"></a>00873     
<a name="l00874"></a>00874      <span class="comment">/* ====================================== */</span>
<a name="l00875"></a>00875      <span class="comment">/*  If there is a parenthesis at the      */</span>
<a name="l00876"></a>00876      <span class="comment">/*  current position of the cusor then    */</span>
<a name="l00877"></a>00877      <span class="comment">/*  try to find the matching parenthesis, */</span>
<a name="l00878"></a>00878      <span class="comment">/*  otherwise, return.                     */</span>
<a name="l00879"></a>00879      <span class="comment">/* ====================================== */</span>
<a name="l00880"></a>00880 
<a name="l00881"></a>00881      length = XawTextSourceRead (source,Pos,&amp;text_return,1);
<a name="l00882"></a>00882      <span class="keywordflow">if</span>(text_return.length != 0)
<a name="l00883"></a>00883       {
<a name="l00884"></a>00884         <span class="keywordflow">if</span>(text_return.ptr[0] == <span class="charliteral">')'</span>)
<a name="l00885"></a>00885           Forward = False;
<a name="l00886"></a>00886         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text_return.ptr[0] != <span class="charliteral">'('</span>)
<a name="l00887"></a>00887          {
<a name="l00888"></a>00888           XBell(XtDisplay(<a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>),100);
<a name="l00889"></a>00889           <span class="keywordflow">return</span>;
<a name="l00890"></a>00890          }
<a name="l00891"></a>00891       }
<a name="l00892"></a>00892      <span class="keywordflow">else</span>
<a name="l00893"></a>00893       {
<a name="l00894"></a>00894         XBell(XtDisplay(<a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>),100);
<a name="l00895"></a>00895         <span class="keywordflow">return</span>;
<a name="l00896"></a>00896       }
<a name="l00897"></a>00897      <span class="comment">/* =============================== */</span>
<a name="l00898"></a>00898      <span class="comment">/*   Searching for a ")"           */</span>
<a name="l00899"></a>00899      <span class="comment">/* =============================== */</span>
<a name="l00900"></a>00900      <span class="keywordflow">if</span>(Forward)
<a name="l00901"></a>00901       {
<a name="l00902"></a>00902         <span class="keywordflow">if</span>( <a class="code" href="xedit_8c.html#10371c67df65a345a38cca1d5de4f18e">SearchForward</a>(source,&amp;text_return,length))        
<a name="l00903"></a>00903            XawTextSetSelection((Widget)client_data,Pos,text_return.firstPos + text_return.length);
<a name="l00904"></a>00904         <span class="keywordflow">else</span>
<a name="l00905"></a>00905          {
<a name="l00906"></a>00906            XBell(XtDisplay(<a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>),100);
<a name="l00907"></a>00907            <a class="code" href="xedit_8c.html#c2137126200634a682e982b3052f4250">WarningWindow</a>( <span class="stringliteral">"There is no\n matching parenthesis!"</span>);
<a name="l00908"></a>00908          }
<a name="l00909"></a>00909       }
<a name="l00910"></a>00910 
<a name="l00911"></a>00911      <span class="comment">/* =============================== */</span>
<a name="l00912"></a>00912      <span class="comment">/*   Searching for a "("           */</span>
<a name="l00913"></a>00913      <span class="comment">/* =============================== */</span>
<a name="l00914"></a>00914 
<a name="l00915"></a>00915      <span class="keywordflow">else</span> 
<a name="l00916"></a>00916       {
<a name="l00917"></a>00917         <span class="keywordflow">if</span>( <a class="code" href="xedit_8c.html#f6ac89c38a6f96c08ac4840e505a36c0">SearchBackward</a>(source,&amp;text_return,length))
<a name="l00918"></a>00918           XawTextSetSelection((Widget)client_data,text_return.firstPos, Pos + 1);
<a name="l00919"></a>00919         <span class="keywordflow">else</span>
<a name="l00920"></a>00920          {
<a name="l00921"></a>00921            XBell(XtDisplay(<a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>),100);
<a name="l00922"></a>00922            <a class="code" href="xedit_8c.html#c2137126200634a682e982b3052f4250">WarningWindow</a>(<span class="stringliteral">"There is no\nmatching parenthesis!"</span>);
<a name="l00923"></a>00923          }
<a name="l00924"></a>00924       }
<a name="l00925"></a>00925   }
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 <span class="comment">/*******************************************************************************</span>
<a name="l00928"></a>00928 <span class="comment">          Name:        SearchForward</span>
<a name="l00929"></a>00929 <span class="comment">          Description: Search forward for the mathching parethesis [")"]</span>
<a name="l00930"></a>00930 <span class="comment">          Arguments:   source - Widget, text source</span>
<a name="l00931"></a>00931 <span class="comment">                       text_return _ Pointer to the structure that contains </span>
<a name="l00932"></a>00932 <span class="comment">                       the information about the text block, which has been read</span>
<a name="l00933"></a>00933 <span class="comment">                       by XawTextSourceRead;</span>
<a name="l00934"></a>00934 <span class="comment">                       length - the Position of the last char in the text block</span>
<a name="l00935"></a>00935 <span class="comment">          Returns:     Return True If Found; otherwise, return False.</span>
<a name="l00936"></a>00936 <span class="comment">*******************************************************************************/</span>
<a name="l00937"></a><a class="code" href="xedit_8h.html#fcba28c4a3033baaef81e6719af7112d">00937</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#10371c67df65a345a38cca1d5de4f18e">SearchForward</a>(
<a name="l00938"></a>00938 Widget source,
<a name="l00939"></a>00939 XawTextBlock *text_return,
<a name="l00940"></a>00940 XawTextPosition length)
<a name="l00941"></a>00941 {
<a name="l00942"></a>00942    XawTextPosition newPos = length;
<a name="l00943"></a>00943    <span class="keywordtype">int</span> <a class="code" href="struct__SelectionList.html#85942b607c66f35b3071b08a77d25b27">count</a> = 1;
<a name="l00944"></a>00944 
<a name="l00945"></a>00945    <span class="keywordflow">while</span>((newPos != text_return-&gt;firstPos) &amp;&amp; (count))
<a name="l00946"></a>00946     {
<a name="l00947"></a>00947        newPos = XawTextSourceRead(source,newPos,text_return,1);
<a name="l00948"></a>00948        <span class="keywordflow">if</span>(newPos == text_return-&gt;firstPos)
<a name="l00949"></a>00949          <span class="keywordflow">break</span>;
<a name="l00950"></a>00950        <span class="keywordflow">if</span>( text_return-&gt;ptr[0] == <span class="charliteral">'('</span>)
<a name="l00951"></a>00951         count++;
<a name="l00952"></a>00952        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( text_return-&gt;ptr[0] == <span class="charliteral">')'</span>)
<a name="l00953"></a>00953         count--;
<a name="l00954"></a>00954     }
<a name="l00955"></a>00955    <span class="keywordflow">if</span>(count)    <span class="comment">/* could not find the matching parenthesis */</span>
<a name="l00956"></a>00956      <span class="keywordflow">return</span>(False);
<a name="l00957"></a>00957    <span class="keywordflow">else</span>
<a name="l00958"></a>00958      <span class="keywordflow">return</span>(True); <span class="comment">/* found the matching parenthesis */</span>
<a name="l00959"></a>00959 }
<a name="l00960"></a>00960 <span class="comment">/*******************************************************************************</span>
<a name="l00961"></a>00961 <span class="comment">          Name:        WarningWindow</span>
<a name="l00962"></a>00962 <span class="comment">          Description: Pop up a warning message window;</span>
<a name="l00963"></a>00963 <span class="comment">          Arguments:   Text - Warning message;</span>
<a name="l00964"></a>00964 <span class="comment">          Returns:     None</span>
<a name="l00965"></a>00965 <span class="comment">*******************************************************************************/</span>
<a name="l00966"></a><a class="code" href="xedit_8h.html#2066b7e5e9d03f649aa580bc35babdf7">00966</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#c2137126200634a682e982b3052f4250">WarningWindow</a>(
<a name="l00967"></a>00967 <span class="keywordtype">char</span> *text)
<a name="l00968"></a>00968 {
<a name="l00969"></a>00969     Widget WarningShell,WarningDialog;
<a name="l00970"></a>00970 
<a name="l00971"></a>00971     WarningShell = XtCreatePopupShell(<span class="stringliteral">"Confirmation"</span>,
<a name="l00972"></a>00972                                     topLevelShellWidgetClass,
<a name="l00973"></a>00973                                     <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l00974"></a>00974                                     NULL, 0);
<a name="l00975"></a>00975    XtSetArg(<a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>[0], XtNlabel, text);
<a name="l00976"></a>00976    WarningDialog =  XtCreateManagedWidget(<span class="stringliteral">"confirm"</span>,
<a name="l00977"></a>00977                                   dialogWidgetClass,
<a name="l00978"></a>00978                                   WarningShell,
<a name="l00979"></a>00979                                   <a class="code" href="xmain_8c.html#449ace241bdcf1d70de4640dde10b654">TheArgs</a>, 1);
<a name="l00980"></a>00980    XawDialogAddButton( WarningDialog,<span class="stringliteral">"Okay"</span>,<a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>,(XtPointer)WarningDialog);
<a name="l00981"></a>00981    XtPopup(WarningShell, XtGrabNonexclusive);
<a name="l00982"></a>00982 
<a name="l00983"></a>00983 }
<a name="l00984"></a>00984 <span class="comment">/*******************************************************************************</span>
<a name="l00985"></a>00985 <span class="comment">          Name:        SearchBackward</span>
<a name="l00986"></a>00986 <span class="comment">          Description: Search backward for the matchhing parethesis ["("]</span>
<a name="l00987"></a>00987 <span class="comment">          Arguments:  text_return _ Pointer to the structure that contains</span>
<a name="l00988"></a>00988 <span class="comment">                       the information about the text block, which has been read</span>
<a name="l00989"></a>00989 <span class="comment">                       by XawTextSourceRead;</span>
<a name="l00990"></a>00990 <span class="comment">                       length - the Position of the last char in the text block</span>
<a name="l00991"></a>00991 <span class="comment">          Returns:     True if Found; otherwise, it returns False.</span>
<a name="l00992"></a>00992 <span class="comment">*******************************************************************************/</span>
<a name="l00993"></a><a class="code" href="xedit_8h.html#8ce98b2a284c2feed92721a263596ca2">00993</a> <span class="keywordtype">int</span> <a class="code" href="xedit_8c.html#f6ac89c38a6f96c08ac4840e505a36c0">SearchBackward</a>(
<a name="l00994"></a>00994 Widget source,
<a name="l00995"></a>00995 XawTextBlock *text_return,
<a name="l00996"></a>00996 XawTextPosition length)
<a name="l00997"></a>00997 {
<a name="l00998"></a>00998     <span class="keywordtype">int</span> <a class="code" href="struct__SelectionList.html#85942b607c66f35b3071b08a77d25b27">count</a> = 1;
<a name="l00999"></a>00999     XawTextPosition NewPos = length - 2;
<a name="l01000"></a>01000 
<a name="l01001"></a>01001     <span class="keywordflow">while</span>((NewPos &gt;= 0 ) &amp;&amp; count)
<a name="l01002"></a>01002      {
<a name="l01003"></a>01003         NewPos = XawTextSourceRead(source,NewPos,text_return,1) - 2;
<a name="l01004"></a>01004         <span class="keywordflow">if</span>(text_return-&gt;ptr[0] == <span class="charliteral">')'</span>)
<a name="l01005"></a>01005           count++;
<a name="l01006"></a>01006         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text_return-&gt;ptr[0] == <span class="charliteral">'('</span>)
<a name="l01007"></a>01007           count--;
<a name="l01008"></a>01008      }
<a name="l01009"></a>01009     <span class="keywordflow">if</span>(count)          <span class="comment">/* Unfound */</span>
<a name="l01010"></a>01010       <span class="keywordflow">return</span>(False);
<a name="l01011"></a>01011     <span class="keywordflow">else</span>
<a name="l01012"></a>01012       <span class="keywordflow">return</span>(True);    <span class="comment">/* Found */</span>
<a name="l01013"></a>01013 }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 <span class="comment">/*******************************************************************************</span>
<a name="l01016"></a>01016 <span class="comment">          Name:        EditorBeginingOfFileCallback</span>
<a name="l01017"></a>01017 <span class="comment">          Description: Move to the beginning of the file.</span>
<a name="l01018"></a>01018 <span class="comment">                       It is Called when Begining of File </span>
<a name="l01019"></a>01019 <span class="comment">                       is selected from the Edit menu</span>
<a name="l01020"></a>01020 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l01021"></a>01021 <span class="comment">                       client_data - Widget to edit</span>
<a name="l01022"></a>01022 <span class="comment">                       call_data - Not Used</span>
<a name="l01023"></a>01023 <span class="comment">          Returns:     None</span>
<a name="l01024"></a>01024 <span class="comment">*******************************************************************************/</span>
<a name="l01025"></a><a class="code" href="xedit_8h.html#e4aff2cd7f9bc35aefc1ec68f0ff8914">01025</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#ab665d314336ff1d6ed15c7262467f48">EditorBeginingOfFileCallback</a>(
<a name="l01026"></a>01026   Widget w,
<a name="l01027"></a>01027   XtPointer client_data,
<a name="l01028"></a>01028   XtPointer call_data)
<a name="l01029"></a>01029   {
<a name="l01030"></a>01030   <a class="code" href="xclipstext_8c.html#0775b198b3148e46eb5f6ececd75e749">MoveBeginningOfFile</a>((Widget)client_data, &amp;<a class="code" href="xmain_8c.html#1aedd818f07872626210c526185af17d">TheEvent</a>);
<a name="l01031"></a>01031   }
<a name="l01032"></a>01032 
<a name="l01033"></a>01033 <span class="comment">/*******************************************************************************</span>
<a name="l01034"></a>01034 <span class="comment">          Name:        EditorEndOfFileCallback</span>
<a name="l01035"></a>01035 <span class="comment">          Description: Moves the cursor to the end of the file.</span>
<a name="l01036"></a>01036 <span class="comment">                       It is called when End of File is </span>
<a name="l01037"></a>01037 <span class="comment">                       selected from the Edit menu.</span>
<a name="l01038"></a>01038 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l01039"></a>01039 <span class="comment">                       client_data - Widget to edit</span>
<a name="l01040"></a>01040 <span class="comment">                       call_data - Not Used</span>
<a name="l01041"></a>01041 <span class="comment">          Returns:     None</span>
<a name="l01042"></a>01042 <span class="comment">*******************************************************************************/</span>
<a name="l01043"></a><a class="code" href="xedit_8h.html#db0018981fbfcb6e8723a106e2a9c8ba">01043</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#1ef06d1d83ccf46bf530052f7bfc2059">EditorEndOfFileCallback</a>(
<a name="l01044"></a>01044   Widget w,
<a name="l01045"></a>01045   XtPointer client_data,
<a name="l01046"></a>01046   XtPointer call_data)
<a name="l01047"></a>01047   {
<a name="l01048"></a>01048   <a class="code" href="xclipstext_8c.html#e60aa8b72aca725c7dd9433d27e4905a">MoveEndOfFile</a>((Widget)client_data, &amp;<a class="code" href="xmain_8c.html#1aedd818f07872626210c526185af17d">TheEvent</a>);
<a name="l01049"></a>01049   }
<a name="l01050"></a>01050 
<a name="l01051"></a>01051 <span class="comment">/*******************************************************************************</span>
<a name="l01052"></a>01052 <span class="comment">          Name:        EditorFontSelect</span>
<a name="l01053"></a>01053 <span class="comment">          Description: Changes to font selected by user</span>
<a name="l01054"></a>01054 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l01055"></a>01055 <span class="comment">                       client_data - edit_text asciitext widget</span>
<a name="l01056"></a>01056 <span class="comment">                       call_data - Not used</span>
<a name="l01057"></a>01057 <span class="comment">          Returns:     None</span>
<a name="l01058"></a>01058 <span class="comment">*******************************************************************************/</span>
<a name="l01059"></a>01059 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorFontSelect(
<a name="l01060"></a>01060   Widget w,
<a name="l01061"></a>01061   XtPointer client_data,
<a name="l01062"></a>01062   XtPointer call_data)
<a name="l01063"></a>01063   {
<a name="l01064"></a>01064   Widget edit_text = (Widget)client_data;
<a name="l01065"></a>01065   XFontStruct *font;
<a name="l01066"></a>01066   Arg args[1];
<a name="l01067"></a>01067 
<a name="l01068"></a>01068   <span class="keywordflow">if</span> ((font = XLoadQueryFont(XtDisplay(edit_text), XtName(w))) != NULL)
<a name="l01069"></a>01069     {
<a name="l01070"></a>01070     XtSetArg(args[0], XtNfont, font);
<a name="l01071"></a>01071     XtSetValues(edit_text, args, 1);
<a name="l01072"></a>01072     }
<a name="l01073"></a>01073   }
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 <span class="comment">/*******************************************************************************</span>
<a name="l01076"></a>01076 <span class="comment">          Name:        EditorHelpSelect</span>
<a name="l01077"></a>01077 <span class="comment">          Description: Changes to font selected by user</span>
<a name="l01078"></a>01078 <span class="comment">          Arguments:  w - menu item that was selected</span>
<a name="l01079"></a>01079 <span class="comment">                       client_data - edit_text asciitext widget</span>
<a name="l01080"></a>01080 <span class="comment">                       call_data - Not used</span>
<a name="l01081"></a>01081 <span class="comment">          Returns:     None</span>
<a name="l01082"></a>01082 <span class="comment">*******************************************************************************/</span>
<a name="l01083"></a><a class="code" href="xedit_8h.html#ead75528cab39334ced409308608930d">01083</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#8a4be6cd6f94f9cc0761de8916c06284">EditorHelpSelect</a>(
<a name="l01084"></a>01084   Widget w,
<a name="l01085"></a>01085   XtPointer client_data,
<a name="l01086"></a>01086   XtPointer call_data)
<a name="l01087"></a>01087   {
<a name="l01088"></a>01088   Arg args[6];
<a name="l01089"></a>01089   Widget help, help_form, help_list;
<a name="l01090"></a>01090 
<a name="l01091"></a>01091   help = XtCreatePopupShell(<span class="stringliteral">"help"</span>,
<a name="l01092"></a>01092                             topLevelShellWidgetClass,
<a name="l01093"></a>01093                             <a class="code" href="xmain_8c.html#e185f83e9787d782cea453426cddd2e7">toplevel</a>,
<a name="l01094"></a>01094                             NULL, 0);
<a name="l01095"></a>01095 
<a name="l01096"></a>01096   XtSetArg(args[0], XtNdefaultDistance, 0);
<a name="l01097"></a>01097   help_form = XtCreateManagedWidget(<span class="stringliteral">"help_form"</span>,
<a name="l01098"></a>01098                                     formWidgetClass,
<a name="l01099"></a>01099                                     help,
<a name="l01100"></a>01100                                     args, 1);
<a name="l01101"></a>01101 
<a name="l01102"></a>01102   XtSetArg(args[0], XtNborderWidth, 0);
<a name="l01103"></a>01103   XtSetArg(args[1], XtNdefaultColumns, 2);
<a name="l01104"></a>01104   XtSetArg(args[2], XtNforceColumns, True);
<a name="l01105"></a>01105   XtSetArg(args[3], XtNlist, <a class="code" href="xedit_8c.html#ea0a9065d7b0557befb8e849657845d9">bindings</a>);
<a name="l01106"></a>01106   XtSetArg(args[4], XtNallowHoriz, True);
<a name="l01107"></a>01107   XtSetArg(args[5], XtNallowVert, True);
<a name="l01108"></a>01108   help_list = XtCreateManagedWidget(<span class="stringliteral">"menu"</span>,
<a name="l01109"></a>01109                                     listWidgetClass,
<a name="l01110"></a>01110                                     help_form,
<a name="l01111"></a>01111                                     args, 6);
<a name="l01112"></a>01112 
<a name="l01113"></a>01113   XtAddCallback(help_list, XtNcallback, <a class="code" href="xmenu_8c.html#36415083f7d6556440494942c78ec207">CancelPopupSelect</a>,
<a name="l01114"></a>01114                 (XtPointer)help_form);
<a name="l01115"></a>01115 
<a name="l01116"></a>01116   XtPopup(help, XtGrabNone);
<a name="l01117"></a>01117   }
<a name="l01118"></a>01118 
<a name="l01119"></a>01119 <span class="comment">/*******************************************************************************</span>
<a name="l01120"></a>01120 <span class="comment">          Name:        EditorSave</span>
<a name="l01121"></a>01121 <span class="comment">          Description: Saves editor to a new file name</span>
<a name="l01122"></a>01122 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l01123"></a>01123 <span class="comment">                       client_data - File to save</span>
<a name="l01124"></a>01124 <span class="comment">                       call_data - Not Used</span>
<a name="l01125"></a>01125 <span class="comment">          Returns:     None</span>
<a name="l01126"></a>01126 <span class="comment">          Comments:    MUST USE `XawTextGetSource' FOR `Saves' TO WORK</span>
<a name="l01127"></a>01127 <span class="comment">*******************************************************************************/</span>
<a name="l01128"></a>01128 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorSave(
<a name="l01129"></a>01129   Widget w,
<a name="l01130"></a>01130   XtPointer client_data,
<a name="l01131"></a>01131   XtPointer call_data)
<a name="l01132"></a>01132   {
<a name="l01133"></a>01133   XawAsciiSave(XawTextGetSource((Widget)client_data));
<a name="l01134"></a>01134   XtDestroyWidget(XtParent(XtParent(w)));
<a name="l01135"></a>01135   }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137 <span class="comment">/*******************************************************************************</span>
<a name="l01138"></a>01138 <span class="comment">          Name:        EditorSaveAs</span>
<a name="l01139"></a>01139 <span class="comment">          Description: Saves editor to a new file name</span>
<a name="l01140"></a>01140 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l01141"></a>01141 <span class="comment">                       client_data - AsciiText widget</span>
<a name="l01142"></a>01142 <span class="comment">                       call_data - Not Used</span>
<a name="l01143"></a>01143 <span class="comment">          Returns:     None</span>
<a name="l01144"></a>01144 <span class="comment">          Comments:    MUST USE `XawTextGetSource' FOR `SaveAs' TO WORK</span>
<a name="l01145"></a>01145 <span class="comment">*******************************************************************************/</span>
<a name="l01146"></a><a class="code" href="xedit_8h.html#31cdc49918b51101bc87d0bd7043e643">01146</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#a023fb1a0330b50f5086bd6e72871e95">EditorSaveAs</a>(
<a name="l01147"></a>01147   Widget w,
<a name="l01148"></a>01148   XtPointer client_data,
<a name="l01149"></a>01149   XtPointer call_data)
<a name="l01150"></a>01150   {
<a name="l01151"></a>01151   Arg args[1];
<a name="l01152"></a>01152   String <a class="code" href="ed_8h.html#84e9301b439b6b9d4f2186e88a0c0ba9">filename</a> = XawDialogGetValueString(XtParent(w));
<a name="l01153"></a>01153   Widget edit_text = XawTextGetSource((Widget)client_data);
<a name="l01154"></a>01154 
<a name="l01155"></a>01155   <span class="keywordflow">if</span> (XawAsciiSaveAsFile(edit_text, filename))
<a name="l01156"></a>01156     {
<a name="l01157"></a>01157     XtSetArg(args[0], XtNstring, filename);
<a name="l01158"></a>01158     XtSetValues(edit_text, args, 1);
<a name="l01159"></a>01159     }
<a name="l01160"></a>01160 
<a name="l01161"></a>01161   XtDestroyWidget(XtParent(XtParent(w)));
<a name="l01162"></a>01162   }
<a name="l01163"></a>01163 
<a name="l01164"></a>01164 <span class="comment">/*******************************************************************************</span>
<a name="l01165"></a>01165 <span class="comment">          Name:        EditorRevert</span>
<a name="l01166"></a>01166 <span class="comment">          Description: Reverts editor file</span>
<a name="l01167"></a>01167 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l01168"></a>01168 <span class="comment">                       client_data - AsciiText widget</span>
<a name="l01169"></a>01169 <span class="comment">                       call_data - Not Used</span>
<a name="l01170"></a>01170 <span class="comment">          Returns:     None</span>
<a name="l01171"></a>01171 <span class="comment">*******************************************************************************/</span>
<a name="l01172"></a><a class="code" href="xedit_8h.html#41d44ef7b502df325ad6834a37436203">01172</a> <span class="keywordtype">void</span> <a class="code" href="xedit_8c.html#240bbd241d40c21bcbf511835b32ccab">EditorRevert</a>(
<a name="l01173"></a>01173   Widget w,
<a name="l01174"></a>01174   XtPointer client_data,
<a name="l01175"></a>01175   XtPointer call_data)
<a name="l01176"></a>01176   {
<a name="l01177"></a>01177   Arg args[1];
<a name="l01178"></a>01178   String <a class="code" href="ed_8h.html#84e9301b439b6b9d4f2186e88a0c0ba9">filename</a> = XawDialogGetValueString(XtParent(w));
<a name="l01179"></a>01179 
<a name="l01180"></a>01180   <span class="keywordflow">if</span> (access(filename, 00) == 0)
<a name="l01181"></a>01181     {
<a name="l01182"></a>01182     XtSetArg(args[0], XtNstring, filename);
<a name="l01183"></a>01183     XtSetValues((Widget)client_data, args, 1);
<a name="l01184"></a>01184     }
<a name="l01185"></a>01185 
<a name="l01186"></a>01186     XtDestroyWidget(XtParent(XtParent(w)));
<a name="l01187"></a>01187   }
<a name="l01188"></a>01188   
<a name="l01189"></a>01189 <span class="comment">/*******************************************************************************</span>
<a name="l01190"></a>01190 <span class="comment">          Name:        ExitEditor</span>
<a name="l01191"></a>01191 <span class="comment">          Description: Exits editor without saving</span>
<a name="l01192"></a>01192 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l01193"></a>01193 <span class="comment">                       client_data - AsciiText widget</span>
<a name="l01194"></a>01194 <span class="comment">                       call_data - Not Used</span>
<a name="l01195"></a>01195 <span class="comment">          Returns:     None</span>
<a name="l01196"></a>01196 <span class="comment">*******************************************************************************/</span>
<a name="l01197"></a>01197 <span class="keyword">static</span> <span class="keywordtype">void</span> ExitEditor(
<a name="l01198"></a>01198   Widget w,
<a name="l01199"></a>01199   XtPointer client_data,
<a name="l01200"></a>01200   XtPointer call_data)
<a name="l01201"></a>01201   {
<a name="l01202"></a>01202   <span class="keywordflow">if</span>(<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> != NULL)
<a name="l01203"></a>01203    {
<a name="l01204"></a>01204      free(<a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a>);
<a name="l01205"></a>01205      <a class="code" href="xedit_8c.html#382468b2a2f4bbfd0997a6b50dba62eb">BatchString</a> = NULL;
<a name="l01206"></a>01206    }
<a name="l01207"></a>01207   XtDestroyWidget(XtParent(XtParent(w)));
<a name="l01208"></a>01208   XtDestroyWidget(XtParent((Widget)client_data));
<a name="l01209"></a>01209   }
<a name="l01210"></a>01210 
<a name="l01211"></a>01211 <span class="comment">/*******************************************************************************</span>
<a name="l01212"></a>01212 <span class="comment">          Name:        EditorSaveFirst</span>
<a name="l01213"></a>01213 <span class="comment">          Description: Saves editor then exits</span>
<a name="l01214"></a>01214 <span class="comment">          Arguments:  w - Dialog widget</span>
<a name="l01215"></a>01215 <span class="comment">                       client_data - AsciiText widget</span>
<a name="l01216"></a>01216 <span class="comment">                       call_data - Not Used</span>
<a name="l01217"></a>01217 <span class="comment">          Returns:     None</span>
<a name="l01218"></a>01218 <span class="comment">*******************************************************************************/</span>
<a name="l01219"></a>01219 <span class="keyword">static</span> <span class="keywordtype">void</span> EditorSaveFirst(
<a name="l01220"></a>01220   Widget w,
<a name="l01221"></a>01221   XtPointer client_data,
<a name="l01222"></a>01222   XtPointer call_data)
<a name="l01223"></a>01223   {
<a name="l01224"></a>01224   XawAsciiSave(XawTextGetSource((Widget)client_data));
<a name="l01225"></a>01225 
<a name="l01226"></a>01226   XtDestroyWidget(XtParent(XtParent(w)));
<a name="l01227"></a>01227   XtDestroyWidget(XtParent(XtParent(XtParent((Widget)client_data))));
<a name="l01228"></a>01228   }
<a name="l01229"></a>01229  
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jan 10 23:49:12 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
